(this["webpackJsonpfishcard-editor"]=this["webpackJsonpfishcard-editor"]||[]).push([[0],{164:function(e,t){},165:function(e,t){},166:function(e,t){},279:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(28),r=n.n(c),l=n(23),s=n.n(l),o=n(68),d=n(6),h=n(103),j=n(332),u=n(334),b=n(329),v=n(330),f=n(335),x=n(333),p=n(328),O=n(322),g=n(323),y=n(324),m=n(325),w=n(326),C=n(39),k=n(140),A=n(2);var R=function(){var e,t=Object(h.b)(),n=t.editor,c=t.onReady,r=a.a.useState(!1),l=Object(d.a)(r,2),R=l[0],F=l[1],S=function(){var e=a.a.useState(0),t=Object(d.a)(e,2),n=t[0],i=t[1];return function(){return i(n+1)}}();Object(i.useEffect)((function(){R||n&&F(!0)}),[n,R]);var L=null===n||void 0===n||null===(e=n.canvas)||void 0===e?void 0:e.getActiveObject();return Object(A.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(A.jsx)(j.a,{position:"relative",children:Object(A.jsxs)(u.a,{style:{gap:10},children:[Object(A.jsx)(b.a,{title:"\ub9cc\ub4e4\uae30",children:Object(A.jsxs)("label",{htmlFor:"new_input",children:[Object(A.jsx)("input",{type:"file",id:"new_input",accept:"image/*",style:{display:"none"},onChange:function(e){if(n){var t=e.target.files[0];if(t){var i=new Image,a=URL.createObjectURL(t);i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0);var t=e.toDataURL("image/png");n.canvas.width=i.width,n.canvas.height=i.height;var c=n.canvas;c.setWidth(i.width),c.setHeight(i.height),n.deleteAll(),c.setBackgroundImage(t,(function(){c.renderAll()})),URL.revokeObjectURL(a)},i.src=a}}}}),Object(A.jsx)(v.a,{color:"inherit",component:"span",children:Object(A.jsx)(O.a,{})})]})}),Object(A.jsx)(b.a,{title:"\uc5f4\uae30",children:Object(A.jsxs)("label",{htmlFor:"open_input",children:[Object(A.jsx)("input",{type:"file",id:"open_input",accept:".json",style:{display:"none"},onChange:function(){var e=Object(o.a)(s.a.mark((function e(t){var i,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}if(!(i=t.target.files[0])){e.next=12;break}return a=n.canvas,e.t0=JSON,e.next=7,i.text();case 7:e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),a.setWidth(c.width),a.setHeight(c.height),a.loadFromJSON(c.canvasData,(function(){a.renderAll()}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(A.jsx)(v.a,{color:"inherit",component:"span",children:Object(A.jsx)(g.a,{})})]})}),Object(A.jsx)(b.a,{title:"\uc800\uc7a5",children:Object(A.jsx)(v.a,{color:"inherit",onClick:function(){var e=n.canvas;!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("card.json",JSON.stringify({canvasData:e.toJSON(),width:e.width,height:e.height}))},children:Object(A.jsx)(y.a,{})})}),Object(A.jsx)(b.a,{title:"\ud14d\uc2a4\ud2b8 \ucd94\uac00",children:Object(A.jsx)(v.a,{color:"inherit",onClick:function(){var e=new C.fabric.Text("Text",{fontFamily:"Noto Sans KR",fill:"#000",fontWeight:500});n.canvas.add(e)},children:Object(A.jsx)(m.a,{})})})]})}),Object(A.jsxs)(f.a,{style:{marginTop:20},children:[Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:10},children:Object(A.jsx)("div",{style:{border:"1px solid #000",display:"inline-block"},children:Object(A.jsx)(h.a,{onReady:c})})}),Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:10},children:Object(A.jsx)(x.a,{style:{padding:10,display:"inline-block"},children:L?Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{style:{marginBottom:10},children:Object(A.jsx)(v.a,{onClick:function(){return n.canvas.remove(L)},children:Object(A.jsx)(w.a,{})})}),function(){switch(L.type){case"text":return Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[Object(A.jsx)(p.a,{label:"\ud14d\uc2a4\ud2b8",value:L.text,onChange:function(e){var t;L.text=e.target.value,null===n||void 0===n||null===(t=n.canvas)||void 0===t||t.renderAll(),S()}}),Object(A.jsx)(p.a,{label:"\uad75\uae30",value:L.fontWeight,type:"number",onChange:function(e){var t;L.fontWeight=Number(e.target.value),null===n||void 0===n||null===(t=n.canvas)||void 0===t||t.renderAll(),S()}}),Object(A.jsx)(k.a,{color:L.fill,onChangeComplete:function(e){L.set({fill:e.hex}),n.canvas.renderAll(),S()}})]});default:return Object(A.jsx)("div",{children:"\uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \uc624\ube0c\uc81d\ud2b8 \ud0c0\uc785\uc785\ub2c8\ub2e4"})}}()]}):"\uc624\ube0c\uc81d\ud2b8\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"})})]})]})},F=function(){return Object(A.jsx)("div",{style:{width:"100vw",height:"100vh"},children:Object(A.jsx)(R,{})})},S=(n(279),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,336)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))}),L=n(141);r.a.render(Object(A.jsx)(L.a,{children:Object(A.jsx)(F,{})}),document.getElementById("root")),S()}},[[280,1,2]]]);
//# sourceMappingURL=main.d0484aa1.chunk.js.map