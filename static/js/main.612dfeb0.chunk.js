(this["webpackJsonpfishcard-editor"]=this["webpackJsonpfishcard-editor"]||[]).push([[0],{164:function(e,t){},165:function(e,t){},166:function(e,t){},279:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),a=n(28),o=n.n(a),r=n(23),l=n.n(r),s=n(68),d=n(6),h=n(103),u=n(332),j=n(334),f=n(329),v=n(330),g=n(335),b=n(333),p=n(328),x=n(322),O=n(323),w=n(324),y=n(325),m=n(326),k=n(39),C=n(140),A=n(2);var R=function(){var e,t=Object(h.b)(),n=t.editor,a=t.onReady,o=c.a.useState(!1),r=Object(d.a)(o,2),R=r[0],S=r[1],W=function(){var e=c.a.useState(0),t=Object(d.a)(e,2),n=t[0],i=t[1];return function(){return i(n+1)}}();Object(i.useEffect)((function(){R||n&&S(!0)}),[n,R]);var L=null===n||void 0===n||null===(e=n.canvas)||void 0===e?void 0:e.getActiveObject();return Object(A.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(A.jsx)(u.a,{position:"relative",children:Object(A.jsxs)(j.a,{style:{gap:10},children:[Object(A.jsx)(f.a,{title:"\ub9cc\ub4e4\uae30",children:Object(A.jsxs)("label",{htmlFor:"new_input",children:[Object(A.jsx)("input",{type:"file",id:"new_input",accept:"image/*",style:{display:"none"},onChange:function(e){if(n){var t=e.target.files[0];if(t){var i=new Image,c=URL.createObjectURL(t);i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0);var t=e.toDataURL("image/png");n.canvas.width=i.width,n.canvas.height=i.height;var a=n.canvas;a.setWidth(i.width),a.setHeight(i.height),n.deleteAll(),a.setBackgroundImage(t,(function(){a.renderAll()})),URL.revokeObjectURL(c)},i.src=c}}}}),Object(A.jsx)(v.a,{color:"inherit",component:"span",children:Object(A.jsx)(x.a,{})})]})}),Object(A.jsx)(f.a,{title:"\uc5f4\uae30",children:Object(A.jsxs)("label",{htmlFor:"open_input",children:[Object(A.jsx)("input",{type:"file",id:"open_input",accept:".json",style:{display:"none"},onChange:function(){var e=Object(s.a)(l.a.mark((function e(t){var i,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}if(!(i=t.target.files[0])){e.next=12;break}return c=n.canvas,e.t0=JSON,e.next=7,i.text();case 7:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),c.setWidth(a.width),c.setHeight(a.height),c.loadFromJSON(a.canvasData,(function(){c.renderAll()}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(A.jsx)(v.a,{color:"inherit",component:"span",children:Object(A.jsx)(O.a,{})})]})}),Object(A.jsx)(f.a,{title:"\uc800\uc7a5",children:Object(A.jsx)(v.a,{color:"inherit",onClick:function(){var e=n.canvas;!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("card.json",JSON.stringify({canvasData:e.toJSON(),width:e.width,height:e.height}))},children:Object(A.jsx)(w.a,{})})}),Object(A.jsx)(f.a,{title:"\ud14d\uc2a4\ud2b8 \ucd94\uac00",children:Object(A.jsx)(v.a,{color:"inherit",onClick:function(){var e=new k.fabric.Text("Text",{fontFamily:"Noto Sans KR",fill:"#000",fontWeight:500});n.canvas.add(e)},children:Object(A.jsx)(y.a,{})})})]})}),Object(A.jsxs)(g.a,{style:{marginTop:20},children:[Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:10},children:Object(A.jsx)("div",{style:{border:"1px solid #000",display:"inline-block"},children:Object(A.jsx)(h.a,{onReady:a})})}),Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:10},children:Object(A.jsx)(b.a,{style:{padding:10,display:"inline-block"},children:L?Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{style:{marginBottom:10},children:Object(A.jsx)(v.a,{onClick:function(){return n.canvas.remove(L)},children:Object(A.jsx)(m.a,{})})}),function(){switch(L.type){case"text":return Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[Object(A.jsx)(p.a,{label:"\ud14d\uc2a4\ud2b8",value:L.text,onChange:function(e){var t;L.text=e.target.value,null===n||void 0===n||null===(t=n.canvas)||void 0===t||t.renderAll(),W()}}),Object(A.jsx)(p.a,{label:"\uad75\uae30",value:L.fontWeight,type:"number",onChange:function(e){var t;L.fontWeight=Number(e.target.value),null===n||void 0===n||null===(t=n.canvas)||void 0===t||t.renderAll(),W()}}),Object(A.jsx)(C.a,{color:L.fill,onChangeComplete:function(e){L.set({fill:e.hex}),n.canvas.renderAll(),W()}})]});default:return Object(A.jsx)("div",{children:"\uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \uc624\ube0c\uc81d\ud2b8 \ud0c0\uc785\uc785\ub2c8\ub2e4"})}}()]}):"\uc624\ube0c\uc81d\ud2b8\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"})})]})]})},S=function(){return Object(A.jsx)("div",{style:{width:"100vw",height:"100vh"},children:Object(A.jsx)(R,{})})},W=(n(279),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,336)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))}),L=n(141),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(A.jsx)(L.a,{children:Object(A.jsx)(S,{})}),document.getElementById("root")),W(),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");F?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):N(e)}))}}()}},[[280,1,2]]]);
//# sourceMappingURL=main.612dfeb0.chunk.js.map